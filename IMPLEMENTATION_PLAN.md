# è€ƒå¤æ–‡ç‰©æ•°æ®æŠ½å–ç³»ç»Ÿ - å®žæ–½è®¡åˆ’

## ðŸ“‹ é¡¹ç›®æ¦‚è¿°

### æ ¸å¿ƒç›®æ ‡
æž„å»ºä¸€ä¸ª**é€šç”¨åŒ–ã€æ™ºèƒ½åŒ–**çš„è€ƒå¤æ–‡ç‰©æ•°æ®æŠ½å–ä¸Žç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒï¼š
1. **å››ä¸»ä½“æŠ½å–**ï¼šé—å€ã€æ—¶æœŸã€é™¶å™¨ã€çŽ‰å™¨
2. **å¤šæ¨¡æ¿é€‚é…**ï¼šè‡ªåŠ¨é€‚é…ä¸åŒçš„æ•°æ®ç»“æž„æ¨¡æ¿
3. **å›¾æ–‡å…³è”**ï¼šæ–‡ç‰©ä¿¡æ¯ä¸Žå›¾ç‰‡çš„æ™ºèƒ½å…³è”
4. **å±‚çº§ç®¡ç†**ï¼šé—å€ç»“æž„çš„æ ‘å½¢ç®¡ç†
5. **å…³ç³»è¿½æº¯**ï¼šå®Œæ•´çš„æ•°æ®æº¯æºå’Œå…³è”å…³ç³»

---

## ðŸŽ¯ è®¾è®¡æ–¹æ¡ˆæ€»è§ˆ

### æ•°æ®åº“è®¾è®¡
- **10ä¸ªæ ¸å¿ƒè¡¨**ï¼šå…ƒæ•°æ®(2) + ä¸»ä½“æ•°æ®(5) + å…³ç³»æ˜ å°„(2) + å›¾ç‰‡ç®¡ç†(2)
- **æ”¯æŒçš„ä¸»ä½“**ï¼š
  - é—å€ (Site) - æŠ¥å‘Šçº§ï¼Œ1ä¸ª
  - æ—¶æœŸ (Period) - æŠ¥å‘Šçº§ï¼Œå¤šä¸ª
  - é™¶å™¨ (Pottery) - ä¸ªä½“çº§ï¼Œå¤šä¸ª
  - çŽ‰å™¨ (Jade) - ä¸ªä½“çº§ï¼Œå¤šä¸ª
- **å›¾ç‰‡ç®¡ç†**ï¼š
  - imagesè¡¨ï¼šç´¢å¼•æ‰€æœ‰å›¾ç‰‡
  - artifact_imagesè¡¨ï¼šæ–‡ç‰©ä¸Žå›¾ç‰‡çš„å¤šå¯¹å¤šå…³è”

### æŠ¥å‘Šæ–‡ä»¶ç»“æž„
```
é—å€å‡ºåœŸæŠ¥å‘Š/{æŠ¥å‘Šåç§°}/
â”œâ”€ {uuid}_origin.pdf          # åŽŸå§‹PDF
â”œâ”€ full.md                     # æ–‡æœ¬å†…å®¹ï¼ˆä¸»è¦æŠ½å–æºï¼‰
â”œâ”€ layout.json                 # å¸ƒå±€ä¿¡æ¯
â”œâ”€ {uuid}_content_list.json   # å†…å®¹åˆ—è¡¨ï¼ˆæ–‡æœ¬-å›¾ç‰‡å¯¹åº”ï¼‰
â””â”€ images/                     # å›¾ç‰‡é›†åˆï¼ˆ1400+å¼ ï¼‰
```

### æŠ½å–æµç¨‹
```
1. åˆ›å»ºä»»åŠ¡ â†’ 2. ç´¢å¼•å›¾ç‰‡ â†’ 3. æŠ½å–é—å€ â†’ 4. æŠ½å–ç»“æž„ â†’ 
5. æŠ½å–æ—¶æœŸ â†’ 6. æŠ½å–é™¶å™¨ â†’ 7. æŠ½å–çŽ‰å™¨ â†’ 
8. å…³è”å›¾ç‰‡ â†’ 9. å»ºç«‹å…³ç³» â†’ 10. æ›´æ–°ç»Ÿè®¡
```

---

## ðŸ“… å¼€å‘è®¡åˆ’ï¼ˆ7å¤©ï¼Œ56å°æ—¶ï¼‰

### Day 1-2: åŸºç¡€æž¶æž„ï¼ˆ16å°æ—¶ï¼‰

#### Day 1 ä¸Šåˆï¼ˆ4å°æ—¶ï¼‰
- [x] âœ… è®¾è®¡æ–‡æ¡£å®Œæˆ
  - [x] DATABASE_DESIGN_V3_FINAL.md
  - [x] IMPLEMENTATION_PLAN.md
- [ ] ðŸ”² åˆ›å»ºæ–°çš„æ•°æ®åº“ç»“æž„
  - [ ] ç¼–å†™SQLå»ºè¡¨è„šæœ¬
  - [ ] å®žçŽ°æ•°æ®åº“åˆå§‹åŒ–å‡½æ•°

#### Day 1 ä¸‹åˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² é‡æž„ `database_manager.py`
  - [ ] å®žçŽ°å¤šè¡¨ç®¡ç†
  - [ ] å®žçŽ°å›¾ç‰‡è¡¨æ“ä½œ
  - [ ] å®žçŽ°å…³è”è¡¨æ“ä½œ

#### Day 2 ä¸Šåˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² å®Œå–„ `template_analyzer.py`
  - [x] âœ… åŸºç¡€åŠŸèƒ½å·²å®Œæˆ
  - [ ] æ·»åŠ å¯¹4ä¸ªæ¨¡æ¿çš„æ”¯æŒ
  - [ ] å®žçŽ°å­—æ®µæ˜ å°„é…ç½®

#### Day 2 ä¸‹åˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² åˆ›å»º `prompt_generator.py`
  - [ ] å®žçŽ°åŠ¨æ€æç¤ºè¯ç”Ÿæˆ
  - [ ] æ”¯æŒ4ç§ä¸»ä½“çš„æç¤ºè¯
  - [ ] å®žçŽ°ç¤ºä¾‹ç”Ÿæˆ

---

### Day 3-4: æ ¸å¿ƒæŠ½å–åŠŸèƒ½ï¼ˆ16å°æ—¶ï¼‰

#### Day 3 ä¸Šåˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² åˆ›å»º `image_manager.py`ï¼ˆæ–°æ¨¡å—ï¼‰
  - [ ] å›¾ç‰‡ç´¢å¼•åŠŸèƒ½
  - [ ] å›¾ç‰‡å…ƒæ•°æ®æå–
  - [ ] content_list.jsonè§£æž

#### Day 3 ä¸‹åˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² åˆ›å»º `image_linker.py`ï¼ˆæ–°æ¨¡å—ï¼‰
  - [ ] æ–‡æœ¬åŒ¹é…å…³è”ç®—æ³•
  - [ ] ä½ç½®è·ç¦»è®¡ç®—
  - [ ] å…³è”ç½®ä¿¡åº¦è¯„åˆ†

#### Day 4 ä¸Šåˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² åˆ›å»º `workflow.py`ï¼ˆå·¥ä½œæµç¼–æŽ’ï¼‰
  - [ ] å®žçŽ°10æ­¥æŠ½å–æµç¨‹
  - [ ] å®žçŽ°è¿›åº¦è·Ÿè¸ª
  - [ ] å®žçŽ°é”™è¯¯å¤„ç†

#### Day 4 ä¸‹åˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² åˆ›å»º `artifact_merger.py`
  - [ ] è·¨æ–‡æœ¬å—ä¿¡æ¯åˆå¹¶
  - [ ] å†²çªè§£å†³ç­–ç•¥
  - [ ] æ¥æºè¿½è¸ª

---

### Day 5-6: GUI å¼€å‘ï¼ˆ16å°æ—¶ï¼‰

#### Day 5 ä¸Šåˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² é‡æž„ GUI ä¸»ç•Œé¢
  - [ ] å¤šä¸»ä½“é€‰é¡¹å¡è®¾è®¡
  - [ ] ä»»åŠ¡ç®¡ç†ç•Œé¢
  - [ ] é—å€ä¿¡æ¯å±•ç¤º

#### Day 5 ä¸‹åˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² å®žçŽ°æ–‡ç‰©æµè§ˆç•Œé¢
  - [ ] é™¶å™¨åˆ—è¡¨è§†å›¾
  - [ ] çŽ‰å™¨åˆ—è¡¨è§†å›¾
  - [ ] è¯¦æƒ…é¡µé¢å¸ƒå±€

#### Day 6 ä¸Šåˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² å®žçŽ°å›¾ç‰‡åŠŸèƒ½
  - [ ] å›¾ç‰‡æ˜¾ç¤ºç»„ä»¶
  - [ ] å›¾ç‰‡æµè§ˆå™¨
  - [ ] å›¾ç‰‡å…³è”ç•Œé¢

#### Day 6 ä¸‹åˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² å®žçŽ°å…³ç³»å¯è§†åŒ–
  - [ ] é—å€ç»“æž„æ ‘
  - [ ] æ—¶æœŸæ—¶é—´è½´
  - [ ] æ–‡ç‰©åˆ†å¸ƒå›¾

---

### Day 7: æµ‹è¯•ä¸Žæ–‡æ¡£ï¼ˆ8å°æ—¶ï¼‰

#### Day 7 ä¸Šåˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² ç«¯åˆ°ç«¯æµ‹è¯•
  - [ ] ç‘¶å±±æŠ¥å‘Šå®Œæ•´æŠ½å–
  - [ ] 4ä¸ªæ¨¡æ¿å…¨éƒ¨æµ‹è¯•
  - [ ] å›¾ç‰‡å…³è”æµ‹è¯•

#### Day 7 ä¸‹åˆï¼ˆ4å°æ—¶ï¼‰
- [ ] ðŸ”² æ–‡æ¡£æ›´æ–°
  - [ ] ç”¨æˆ·æ‰‹å†Œæ›´æ–°
  - [ ] APIæ–‡æ¡£ç¼–å†™
  - [ ] éƒ¨ç½²æŒ‡å—

---

## ðŸ“¦ æ¨¡å—æ¸…å•

### æ–°å¢žæ¨¡å—ï¼ˆ7ä¸ªï¼‰
1. âœ… `template_analyzer.py` - æ¨¡æ¿åˆ†æžå™¨ï¼ˆå·²å®Œæˆï¼‰
2. â³ `prompt_generator.py` - æç¤ºè¯ç”Ÿæˆå™¨
3. â³ `artifact_merger.py` - ä¿¡æ¯åˆå¹¶å™¨
4. â³ `image_manager.py` - å›¾ç‰‡ç®¡ç†å™¨
5. â³ `image_linker.py` - å›¾ç‰‡å…³è”å™¨
6. â³ `workflow.py` - å·¥ä½œæµç¼–æŽ’å™¨
7. â³ `relation_builder.py` - å…³ç³»æž„å»ºå™¨

### é‡æž„æ¨¡å—ï¼ˆ4ä¸ªï¼‰
1. â³ `database_manager.py` - æ”¯æŒå¤šè¡¨å’Œå›¾ç‰‡
2. â³ `main.py` - æ–°çš„æŠ½å–æµç¨‹
3. â³ `gui/app.py` - å¤šä¸»ä½“ç•Œé¢
4. â³ `automated_extractor.py` - åŠ¨æ€æç¤ºè¯

### ä¿æŒæ¨¡å—ï¼ˆ2ä¸ªï¼‰
1. âœ… `content_extractor.py` - æ–‡æœ¬åˆ†å—ï¼ˆå·²ä¼˜åŒ–ï¼‰
2. âœ… `report_processor.py` - æŠ¥å‘Šå¤„ç†

---

## ðŸ§ª æµ‹è¯•ç”¨ä¾‹

### æµ‹è¯•ç”¨ä¾‹1ï¼šå•æŠ¥å‘Šå®Œæ•´æŠ½å–
```bash
è¾“å…¥ï¼š
- æŠ¥å‘Šï¼šç‘¶å±±2021ä¿®è®¢ç‰ˆ
- æ¨¡æ¿ï¼š4ä¸ªï¼ˆé™¶å™¨ã€çŽ‰å™¨ã€é—å€ã€æ—¶æœŸï¼‰

é¢„æœŸè¾“å‡ºï¼š
âœ… é—å€ä¿¡æ¯ï¼š1æ¡
âœ… æ—¶æœŸä¿¡æ¯ï¼š3æ¡
âœ… é™¶å™¨ï¼š45ä»¶
âœ… çŽ‰å™¨ï¼š12ä»¶
âœ… å›¾ç‰‡ç´¢å¼•ï¼š1402å¼ 
âœ… å›¾ç‰‡å…³è”ï¼šçº¦200ä¸ªå…³è”
```

### æµ‹è¯•ç”¨ä¾‹2ï¼šå›¾ç‰‡è‡ªåŠ¨å…³è”
```bash
è¾“å…¥ï¼š
- æ–‡ç‰©ç¼–ç ï¼šM1:1
- å€™é€‰å›¾ç‰‡ï¼šåŒé¡µåŠé™„è¿‘é¡µå›¾ç‰‡

é¢„æœŸè¾“å‡ºï¼š
âœ… æ‰¾åˆ°ä¸»ç…§ç‰‡ï¼š1å¼ 
âœ… æ‰¾åˆ°çº¿å›¾ï¼š1å¼ 
âœ… ç½®ä¿¡åº¦ï¼š>0.8
```

### æµ‹è¯•ç”¨ä¾‹3ï¼šé—å€ç»“æž„æ ‘
```bash
è¾“å…¥ï¼š
- é—å€ï¼šç‘¶å±±é—å€
- ç»“æž„å±‚çº§ï¼šä¸»åŒº â†’ å­åŒº â†’ å¢“è‘¬

é¢„æœŸè¾“å‡ºï¼š
âœ… æ ‘å½¢ç»“æž„æ­£ç¡®
âœ… å±‚çº§å…³ç³»æ¸…æ™°
âœ… å¯é€’å½’æŸ¥è¯¢
```

### æµ‹è¯•ç”¨ä¾‹4ï¼šè·¨æ–‡æœ¬å—åˆå¹¶
```bash
è¾“å…¥ï¼š
- æ–‡æœ¬å—1ï¼šM1:1 çŽ‰ç®ï¼Œé«˜8.8åŽ˜ç±³
- æ–‡æœ¬å—2ï¼šM1:1 å¤–å¾„6.5åŽ˜ç±³ï¼Œé’çŽ‰

é¢„æœŸè¾“å‡ºï¼š
âœ… åˆå¹¶ä¸ºä¸€æ¡è®°å½•
âœ… æ‰€æœ‰å­—æ®µå®Œæ•´
âœ… æ¥æºå—è®°å½•ï¼š[1, 2]
```

---

## ðŸ“Š å…³é”®æŒ‡æ ‡

### åŠŸèƒ½å®Œæ•´æ€§
- [ ] æ”¯æŒ4ä¸ªä¸»ä½“ï¼ˆ100%ï¼‰
- [ ] æ”¯æŒ4ä¸ªæ¨¡æ¿ï¼ˆ100%ï¼‰
- [ ] å›¾ç‰‡ç´¢å¼•çŽ‡ï¼ˆ>95%ï¼‰
- [ ] å›¾ç‰‡å…³è”å‡†ç¡®çŽ‡ï¼ˆ>80%ï¼‰
- [ ] ä¿¡æ¯åˆå¹¶å‡†ç¡®çŽ‡ï¼ˆ>95%ï¼‰

### æ€§èƒ½æŒ‡æ ‡
- [ ] å›¾ç‰‡ç´¢å¼•ï¼š< 30ç§’/1000å¼ 
- [ ] å•ä¸ªä¸»ä½“æŠ½å–ï¼š< 60ç§’
- [ ] å›¾ç‰‡å…³è”ï¼š< 5ç§’/100ä¸ªæ–‡ç‰©
- [ ] GUIå“åº”ï¼š< 200ms
- [ ] æ•°æ®åº“æŸ¥è¯¢ï¼š< 100ms

### ç”¨æˆ·ä½“éªŒ
- [ ] æ“ä½œæ­¥éª¤ï¼š< 5æ­¥å®ŒæˆæŠ½å–
- [ ] é”™è¯¯æç¤ºï¼šæ¸…æ™°æ˜Žç¡®
- [ ] è¿›åº¦æ˜¾ç¤ºï¼šå®žæ—¶æ›´æ–°
- [ ] å›¾ç‰‡åŠ è½½ï¼šæ‡’åŠ è½½ä¼˜åŒ–

---

## ðŸŽ¨ GUI ç•Œé¢é¢„è§ˆ

### ä¸»ç•Œé¢
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è€ƒå¤æ–‡ç‰©æ•°æ®æŠ½å–ä¸Žç®¡ç†ç³»ç»Ÿ V3.0                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ä»»åŠ¡ç®¡ç†] [é—å€] [æ—¶æœŸ] [é™¶å™¨] [çŽ‰å™¨] [å›¾ç‰‡] [å¯¼å‡º]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ å½“å‰ä»»åŠ¡: ç‘¶å±±é—å€è€ƒå¤æŠ¥å‘Š                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ ðŸ“ é—å€: ç‘¶å±±é—å€ (è‰¯æ¸šæ–‡åŒ–)                    â”‚    â”‚
â”‚ â”‚ ðŸ“… æ—¶æœŸ: 3ä¸ª (ç¬¬ä¸€æœŸ, ç¬¬äºŒæœŸ, ç¬¬ä¸‰æœŸ)           â”‚    â”‚
â”‚ â”‚ ðŸº é™¶å™¨: 45ä»¶ (å·²å…³è”å›¾ç‰‡: 38ä»¶)                â”‚    â”‚
â”‚ â”‚ ðŸ’Ž çŽ‰å™¨: 12ä»¶ (å·²å…³è”å›¾ç‰‡: 12ä»¶)                â”‚    â”‚
â”‚ â”‚ ðŸ–¼ï¸  å›¾ç‰‡: 1402å¼  (å·²å…³è”: 245å¼ )                â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                         â”‚
â”‚ [æŸ¥çœ‹è¯¦æƒ…] [ç»§ç»­æŠ½å–] [å¯¼å‡ºæ•°æ®]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸš€ å¿«é€Ÿå¼€å§‹

### çŽ¯å¢ƒå‡†å¤‡
```bash
cd /Users/rayz/Downloads/yuki-cidoc-proj
source venv/bin/activate
pip install -r requirements.txt
```

### è¿è¡ŒæŠ½å–
```bash
# CLIæ¨¡å¼
python src/main.py \
  --report "é—å€å‡ºåœŸæŠ¥å‘Š/ç‘¶å±±2021ä¿®è®¢ç‰ˆè§£æž" \
  --templates "æŠ½å–æ¨¡ç‰ˆ" \
  --output database/yaoshan.db

# GUIæ¨¡å¼
streamlit run gui/app.py
```

---

## ðŸ“š ç›¸å…³æ–‡æ¡£

- [DATABASE_DESIGN_V3_FINAL.md](DATABASE_DESIGN_V3_FINAL.md) - å®Œæ•´æ•°æ®åº“è®¾è®¡
- [DESIGN_V2.md](DESIGN_V2.md) - æŠ€æœ¯è®¾è®¡æ–¹æ¡ˆ
- [PROJECT_PLAN_V2.md](PROJECT_PLAN_V2.md) - é¡¹ç›®è®¡åˆ’
- [MANUAL.md](MANUAL.md) - ç”¨æˆ·æ‰‹å†Œï¼ˆå¾…æ›´æ–°ï¼‰

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å›¾ç‰‡æ–‡ä»¶å¤§å°**ï¼šç‘¶å±±æŠ¥å‘ŠåŒ…å«1400+å¼ å›¾ç‰‡ï¼Œæ€»å¤§å°çº¦200MBï¼Œéœ€è¦è€ƒè™‘å­˜å‚¨å’ŒåŠ è½½ä¼˜åŒ–
2. **LLMè°ƒç”¨æˆæœ¬**ï¼šé•¿æ–‡æœ¬æŠ½å–ä¼šäº§ç”Ÿè¾ƒå¤šAPIè°ƒç”¨ï¼Œå»ºè®®ä½¿ç”¨ç¼“å­˜å’Œæ‰¹å¤„ç†
3. **æ•°æ®åº“å¤§å°**ï¼šå®Œæ•´æŠ½å–åŽæ•°æ®åº“å¯èƒ½è¾¾åˆ°100MB+ï¼Œéœ€è¦å®šæœŸå¤‡ä»½
4. **GUIæ€§èƒ½**ï¼šå¤§é‡å›¾ç‰‡æ˜¾ç¤ºæ—¶éœ€è¦ä½¿ç”¨æ‡’åŠ è½½å’Œç¼©ç•¥å›¾

---

*æ–‡æ¡£ç‰ˆæœ¬ï¼š1.0*  
*åˆ›å»ºæ—¶é—´ï¼š2024-12-01*  
*é¢„è®¡å®Œæˆï¼š2024-12-08*

